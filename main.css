/* Remove invalid/duplicate font-size rules above. Correct rule added at end of file. */
/* Make the transcendence overlay title much larger and bold */
.transcendence-title {
  font-size: 1.7em !important;
  font-weight: 900 !important;
}
/* === Win/Transcendence Overlay FINAL UPDATES === */
.transcendence-overlay-content {
  width: min(90vw, 1500px);
  padding: clamp(23px, 3.9vw, 42px);
  border-radius: 22px;
}

.btn-play-again {
  /* Subtle blur only for Try Again/Play Again button */
  backdrop-filter: blur(4px);
  margin-top: 32px;
  border: 2px solid #ff2bd3;
  background: #111218;
  color: #ff2bd3;
  border-radius: 10px;
  padding: 16px 28.6px;
  font-weight: 800;
  letter-spacing: 0.08em;
  font-size: clamp(18.2px, 2.86vw, 23.4px);
  transition: background 200ms ease;
}
.btn-play-again:hover,
.btn-play-again:active {
  transform: none;
  box-shadow: none;
  filter: none;
}
.btn-play-again .gradient-text {
  background: linear-gradient(90deg, #ff00ff, #00ffff, #ffff00, #ff00ff);
  background-size: 300% 300%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
  animation: gradientMove 6s ease infinite;
  font: inherit;
  letter-spacing: inherit;
  text-shadow: none;
}
/* Restore gradient text for all other .gradient-text (not inside .btn-play-again) */
.gradient-text:not(.btn-play-again .gradient-text) {
  background: linear-gradient(90deg, #fd1ffd, #00ffff, #ffff00, #ff00ff);
  background-size: 300% 300%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
  animation: gradientMove 5s ease infinite;
  font: inherit;
  letter-spacing: inherit;
  text-shadow: none;
}
@keyframes gradientMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
@media (max-width: 420px) {
  .transcendence-overlay-content { gap: 16px; padding: 20.8px; }
}
/* === RESTORED OLD WIN/TRANSCENDENCE OVERLAY STYLING === */
.game-over-overlay,
#transcendenceOverlay {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 2147483647;
  background: rgba(0,0,0,.75);
  backdrop-filter: blur(6px);
  pointer-events: none;
}
.game-over-overlay.show,
#transcendenceOverlay.show {
  display: flex;
  pointer-events: auto;
}
.game-over-content,
.transcendence-overlay-content {
  position: relative;
  width: min(1150px, 100vw);

  padding: 36px;
  border-radius: 24px;
  background: linear-gradient(180deg, #0b0e14e8, #0b0e14fa);
  border: 3px solid #ff2bd3;
  box-shadow:
    0 0 0 1px rgba(255,43,214,.35) inset,
    0 18px 60px rgba(0,0,0,.7),
    0 0 28px rgba(255,43,214,.35),
    0 0 80px rgba(255,43,214,.35);
  text-align: center;
  overflow: hidden;
}
.game-over-content h1,
.game-over-content h2,
.game-over-content p,
.game-over-button,
.game-over-buttons,
#transcendence,
#winReason,
.transcendence-title,
.transcendence-message,
.transcendence-overlay-content h1,
.transcendence-overlay-content h2,
.transcendence-overlay-content p,
.btn-play-again {
  /* Remove gradient and transparent text for .btn-play-again only */
}
/* Remove gradient/transparent text for .btn-play-again only */
.btn-play-again {
  background: #111218 !important;
  color: #ff2bd3 !important;
  -webkit-background-clip: unset !important;
  background-clip: unset !important;
  -webkit-text-fill-color: unset !important;
  animation: none !important;
}
@keyframes gradientShift {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
.game-over-button,
.btn-play-again {
  border: 3px solid #ff2bd3;
  background: rgba(0,0,0,.35);
  padding: 12px 22px;
  border-radius: 14px;
  font-weight: 800;
  letter-spacing: .06em;
  cursor: pointer;
  transition: transform .12s, box-shadow .2s;
}
.game-over-button:hover,
.btn-play-again:hover {
  transform: translateY(-2px);
  box-shadow:
    0 0 0 1px rgba(255,43,214,.6) inset,
    0 16px 44px rgba(255,43,214,.28),
    0 0 32px rgba(255,43,214,.45);
}
.game-over-button:active,
.btn-play-again:active {
  transform: translateY(0);
}
@import url('https://fonts.googleapis.com/css2?family=Doto:wght@100..900&family=Honk&family=Monoton&family=Poiret+One&family=Splash&family=Tektur:wght@400..900&display=swap');

@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap');

/* Custom Scrollbar Styling */
::-webkit-scrollbar {
  width: 14px;
}

::-webkit-scrollbar-track {
  background: #1a1a1a;
  border-radius: 8px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, 
    #ff006e,    /* Hot pink */
    #8338ec,    /* Purple */
    #3a86ff,    /* Blue */
    #06ffa5,    /* Mint green */
    #ffbe0b,    /* Yellow */
    #fb5607     /* Orange */
  );
  border-radius: 8px;
  border: 2px solid #000;
}

/* respects width/height allowance*/
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  text-decoration: none;
  list-style: none;
  text-align: center;
}
/* html element where we can determine vp behavior*/
html, body {
  height: 100%;
 height: auto;
  width: 100%;
  margin:0;
  padding:0;
  overflow-x: hidden;
}

.scaling-root {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  transform-origin: top left;
  /* default: no scaling */
  transform: scale(1);
  
}
@media (max-width: 1200px) {
  .scaling-root {
    
    transform: scale(calc(100vw / 1200));
  }
}
 body {
  font-family: "Doto", sans-serif;
  font-size: 3vh;
  display: flex;
  font-weight: 200;
  font-style: bold;
  background: url('./images/grid-b.jpg') no-repeat center center fixed;
  border: solid 4px oklch(34.36% 0.328 265.87);
  color: oklch(87.87% 0.211 149.57 / 0.923);
  min-height: 100vh;
  margin-top: 0;
  padding-bottom: 15vh;
  background-size: cover;
  background-attachment: fixed;
  background-repeat: no-repeat;
  justify-content: center;
  align-items: center;
  overflow-x: hidden;
  overflow-y: auto;
  flex-direction: column;
  align-items: center;
  position: relative;

}

body::before {
  content: "";
  position: fixed;
  top: 50%;
  left: -100%;
  width: 300%;
  height: 4px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    oklch(90.85% 0.274 195.85 / 0.8) 2%,
    oklch(70.10% 0.322 328.36) 4%,
    oklch(90.85% 0.274 195.85 / 0.8) 6%,
    transparent 8%,
    transparent 12%,
    oklch(70.10% 0.322 328.36) 14%,
    oklch(90.85% 0.274 195.85 / 0.8) 16%,
    oklch(70.10% 0.322 328.36) 18%,
    transparent 20%,
    transparent 30%,
    oklch(90.85% 0.274 195.85 / 0.8) 32%,
    oklch(70.10% 0.322 328.36) 34%,
    oklch(90.85% 0.274 195.85 / 0.8) 36%,
    transparent 38%,
    transparent 42%,
    oklch(70.10% 0.322 328.36) 44%,
    oklch(90.85% 0.274 195.85 / 0.8) 46%,
    oklch(70.10% 0.322 328.36) 48%,
    transparent 50%,
    transparent 60%,
    oklch(90.85% 0.274 195.85 / 0.8) 62%,
    oklch(70.10% 0.322 328.36) 64%,
    oklch(90.85% 0.274 195.85 / 0.8) 66%,
    transparent 68%,
    transparent 72%,
    oklch(70.10% 0.322 328.36) 74%,
    oklch(90.85% 0.274 195.85 / 0.8) 76%,
    oklch(70.10% 0.322 328.36) 78%,
    transparent 80%,
    transparent 90%,
    oklch(90.85% 0.274 195.85 / 0.8) 92%,
    oklch(70.10% 0.322 328.36) 94%,
    oklch(90.85% 0.274 195.85 / 0.8) 96%,
    transparent 98%,
    transparent 100%);
  pointer-events: none;
  z-index: -1;
  animation: sineWaveFlow 20s linear infinite;
  box-shadow: 0 0 8px oklch(90.85% 0.274 195.85 / 0.5), 0 0 16px oklch(70.10% 0.322 328.36 / 0.363),
   0 0 16px oklch(55.84% 0.203 347.66 / 0.474);
  transform: translateY(-2px);
}



header h1 {
  font-family: "Doto", sans-serif;
 text-shadow: 0 0 5px #00ffdd;
 display: flex;
 justify-content: center;
 align-items: center;
 height: 100%;
 width: 100%;
 margin:0 auto;
 letter-spacing: 15px;
 font-weight: 500;
 font-size: clamp(2rem, 4vw, 3.8rem);
 white-space: normal;
 text-overflow: unset;
 animation: floatUpDown 3s ease-in-out infinite;
}
header {
  border: solid 2px oklch(61.05% 0.315 318.55);
  background-color: oklch(71.794% 0.15473 244.396 / 0.42);
 margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  padding-top: 0 2vw;
  margin-top: 2vh;
  margin-bottom: 2vh;
  position: relative;
  width: 100%;
  height: 9vh;
  max-width: 670px;
  box-sizing: border-box;
}


#transcendence {
  display: block;
  font-size: 2.5vh;
  position: relative;
  text-align: center;
  margin-top: .2vh;

  background: linear-gradient(45deg, 
    oklch(71.384% 0.20314 353.227),     /* Pink */
    oklch(61.9% 0.19284 258.775),     /* Light blue */
    oklch(68.299% 0.18562 299.899),     /* Purple */
    oklch(85.825% 0.23495 148.424),     /* Green */
    oklch(79.49% 0.14271 62.993),     /* Orange */
    oklch(73.033% 0.19383 352.633)      /* Pink again for seamless loop */
  );
  background-size: 300% 300%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
  font-weight: bold;
  /* Subtle glow effect behind the gradient */
  text-shadow: 
    0 0 10px oklch(73.033% 0.19383 352.633 / 0.3),    /* Pink glow */
    0 0 15px oklch(76.162% 0.1228 258.17 / 0.3),    /* Blue glow */
    0 0 20px oklch(70.428% 0.18362 300.278 / 0.3);    /* Purple glow */
  /* Animate the gradient for extra visual appeal */
  animation: gradientShift 2.5s ease infinite;
}
@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}





/* Center pet container in the middle of main */
#main-wrapper {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  margin-top: 1.2vh;
  padding: 0;
  gap: 0;
  background: linear-gradient(oklch(69.17% 0.154 260.76 / 0.275));
  overflow: visible;
  border: 2px solid #f0f; /* Optional debug */
}

/* ============================================================================
   DROPDOWN MENU SYSTEM
   ============================================================================ */
   .CornerRoundButton {
  position: absolute;
  top: .1rem;
  left: .1em;
  width: 43px;
  height: 43px;
  background: #1e1eeb;
  color: #fff;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 4px 8px oklch(15.62% 0.039 31.19 / 0.2);
  font-size: 1.2em;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  transition: background 0.3s;

}


.CornerRoundButton::after{
  content: "";
  position:absolute;

}
.CornerRoundButton:hover {
  background: #2323ff;
}

.dropdown-container {
  position: absolute;
  top: 0;
  right: 31.5em;
  left: auto;
  
  z-index: 10;
}

.dropdown-menu {
  box-shadow: 0 4px 16px oklch(0% 0 0 / 0.18);
  animation: fadeIn 0.9s;
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  z-index: 9999;
  background: oklch(21.11% 0.147 276.26 / 0.733);
  color: #fff;
  border-radius: 8px;
  padding: 12px 18px;
  margin-top:30px;
  width: 90vw;
  width: 922px;
  margin-left: -16px;
}

.dropdown-menu ul {
  background: transparent !important;
  color: #fff !important;
  border-radius: 8px;
  padding: 0;
  list-style: disc !important;
  margin: 0 0 0 20px !important;
  display: block !important;
}

.dropdown-menu li {
  padding: 3px 0;
  padding-left: .5em;
  margin: 0;
  
  color: #eafefe !important;
  display: list-item !important;
  text-align: left;
  line-height: 1.4;
  list-style: disc !important;
}
li::marker {
  content:  "🧿";
  position: relative;

  
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}



#pet-container {
  position: relative; /* Enable absolute positioning for overlays */
  width: 100%;
  height: 600px;
  display: flex;
  align-items: center;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  background-color: oklch(0% 0 0 / 0.7);
  
  box-shadow: 0 0 25px oklch(84.93% 0.196 204.92 / 0.486);
  overflow: hidden;
  margin: 0;
  padding: 0;
  /* this is part of the sine-wave effect*/
  position: relative;
  z-index: 2;
}

/* screen div */

/* Prevent distortion for images and canvas inside pet-container */

.infoBox {
  width: 100%;
  min-height: 200px;
  height: auto; 
  
  flex-direction: column;
  justify-content: space-between;
  flex-wrap: nowrap; 
  border: 2px solid oklch(70.10% 0.322 328.36);
  display: flex;
  font-size: clamp(1rem, 2vw, 1.5rem);
  padding: 0;
  margin: 0;
  overflow: hidden;
}
.infoBox-controls, .infoBox_petChat{
  width: 100%;
  max-width: 100%;
}

@media (min-width: 768px) {
  .infoBox {
    flex-direction: row;
    min-height: 180px;
  }
  
  .infoBox-controls {
    width: 45%;
    max-width: 45%;
    min-width: unset;
  }
  
  .infoBox_petChat {
    width: 55%;
    max-width: 55%;
  }
}

@media (max-width: 767px) {
  .infoBox {
    min-height: 280px;
  }
  
  .infoBox_petChat {
    min-height: 120px;
  }
}

.infoBox-controls {
  display: flex;
  flex-direction: row;
  justify-content: space-evenly;
  align-items: flex-start;
  padding: 20px;
  gap: 10px;
  margin: 0;
  flex-wrap: wrap;
}

.infoBox_petChat {
  padding: 15px;
  position: relative;
  color: #00ffff;
  font-family: 'Doto', sans-serif;
  font-size: clamp(1rem, 3vw, 1.5rem);
  line-height: 1.4;
  border-left: 2px solid #00ffff;
  text-shadow: 0 0 6px #00ffff;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  text-align: center;
  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
  overflow: hidden;
  max-width: 100%;
  box-sizing: border-box;
  background: linear-gradient(45deg, 
    oklch(73.033% 0.19383 352.633),     /* Pink */
    oklch(76.162% 0.1228 258.17),     /* Light blue */
    oklch(70.428% 0.18362 300.278),     /* Purple */
    oklch(89.385% 0.19155 151.458),     /* Green */
    oklch(82.405% 0.12878 64.68),     /* Orange */
    oklch(73.033% 0.19383 352.633)      /* Pink again for seamless loop */
  );
  background-size: 200% 200%;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  font-weight: bold;
  /* Subtle glow effect behind the gradient */
  text-shadow: 
    0 0 10px oklch(75.63% 0.141 347.29 / 0.3),    /* Pink glow */
    0 0 15px oklch(73.85% 0.114 254.85 / 0.3),    /* Blue glow */
    0 0 20px oklch(69.73% 0.146 290.75 / 0.3);    /* Purple glow */
  /* Animate the gradient for extra visual appeal */
  animation: gradientShift 2.5s ease infinite;
}
       
 
.Buttons:hover
{
  transform: perspective(200px) rotateX(1deg) rotateY(1deg) scale(1);
  box-shadow: 0 12px 12px oklch(83.808% 0.20516 153.971 / 0.843), 0 2px 8px oklch(25.85% 0.110 292.08 / 0.18);
  z-index: 2;
}

.Buttons {
  font-family: "Orbitron";
  color: oklch(92.95% 0.105 96.77);
  background-color: blue;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  letter-spacing: 4px;
  width: 110px;
  height: 40px;
  border-radius: 5px;
  font-size: 0.5em;
  font-weight: bold;
  padding: 0;
  margin: 0 1px;
  box-sizing: border-box;
  flex-shrink: 0;
}

button.Buttons { 
  width: 110px;
  height: 40px;
  display: flex;
  padding: 0;
  font-size: 0.4em;
  cursor: pointer;
  transition: all 0.3s ease;
  box-sizing: border-box;
} */

.Buttons:hover,
.Buttons:active,
button.Buttons:hover,
button.Buttons:active {
  /* No transform or scale here */
  box-shadow: 0 0 12px 2px #a6f3ff;
}

/* Disabled state for action buttons when game hasn't started */
button.Buttons.disabled {
  opacity: 0.5;
  cursor: not-allowed;
  filter: grayscale(50%);
  pointer-events: none;
}

button.Buttons.disabled:hover
button.Buttons.disabled:active
 {
  transform: none;
  box-shadow: none;
}


/* Button container and timer display styles */
.button-container {
  height: 65px;
  min-width: 110px;
  max-width:110px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.timer-display {
  font-family: "doto";
  font-size: 0.7em;
  color: oklch(85.549% 0.24662 147.119 / 0.923);
  background-color: oklch(58.62% 0.108 255.79 / 0.479);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4px 8px;
  border-radius: 4px;
  text-align: center;
  min-width: 50px;
  font-weight: bold;
  gap: 2px;
}

/* Color coding for different stat levels */
.timer-display.low { color: #ff6b6b; }    /* Red for bad levels */
.timer-display.medium { color: #ffd93d; } /* Yellow for medium levels */
.timer-display.high { color: #6bcf7f; }   /* Green for good levels */
/*=====================START/RESET======================*/
.StartButton {
  padding: 12px 36px;
  font-size: 0.8em;
  margin-top: 40px;
  letter-spacing: 3px;
  font-family: "Orbitron", sans-serif;
  background: #1e1eeb;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  box-shadow: 0 4px 8px oklch(0% 0 0 / 0.2);
  position:relative;
}

@property --angle{
  syntax:"<angle>" ;
  initial-value: 0deg;
  inherits: false;
}
.StartButton::after, .StartButton::before {
 content:"";
  position: absolute;
  height: 100%;
  width: 100%;
  background-image: conic-gradient(from var(--angle),  oklch(65.964% 0.27558 349.688), oklch(73.035% 0.15018 232.981), oklch(69.854% 0.17452 153.965), oklch(48.131% 0.28662 278.604), oklch(59.72% 0.27737 321.28), oklch(65.964% 0.27558 349.688)  );
  top: 50%;
  left:50%;
  translate: -50% -50%;
  z-index: -15;
  padding: 3px;
  border-radius: 8px;
  animation: 3s spin linear infinite;
}
.StartButton::before {
  filter: blur(1.5rem);
  opacity: 0.5;
  z-index: -10;
}

@keyframes spin{
  from{
--angle: 0deg;
  }
  to{
--angle: 360deg;
  }
}

.ResetButton {
  padding: 12px 36px;
  font-size: 0.8em;
  letter-spacing: 3px;
  font-family: "Orbitron", sans-serif;
  background: #9d1eeb;
  color: #eaf8fd;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  box-shadow: 0 4px 8px oklch(0% 0 0 / 0.2);
  
}


.StartButton:hover,
.ResetButton:hover {
  transform: perspective(200px) rotateX(1deg) rotateY(1deg) scale(1);
  box-shadow: 0 12px 12px oklch(51.245% 0.27967 294.646), 0 2px 8px oklch(30.8% 0.16816 296.076 / 0.18);
  z-index: -15;
}

canvas {
  width: 100% !important;
  height: 100% !important;
  display: block;
  max-width: 100%;
  min-height: 100%;
}

/* ============================================================================
   PAGE OVERLAY & WELCOME SCREEN
   ============================================================================ */
.page-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: oklch(74.31% 0.054 261.29);
  background-image: url("./images/grid-b.jpg");
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  z-index: 9999;
  display: flex;
  justify-content: center;
  align-items: center;
  backdrop-filter: blur(5px);
  transition: opacity 0.5s ease-out;
  
}

.overlay-content h2 {
  /* Animated rainbow gradient, matches infoBox_petChat */
  background: linear-gradient(45deg, 
    oklch(62.793% 0.25768 29.223), /* Red */
    oklch(77.194% 0.17376 64.545), /* Orange */
    oklch(65.657% 0.2721 352.034 / 0.859), /* Yellow */
    oklch(87.027% 0.28955 141.531), /* Green */
    oklch(89.994% 0.15767 186.289), /* Cyan */
    oklch(56.347% 0.24089 260.834), /* Blue */
    oklch(62.733% 0.30691 316.377), /* Violet */
    oklch(64.532% 0.26038 2.454), /* Magenta */
    oklch(62.793% 0.25768 29.223)  /* Red again for seamless loop */
  );
  background-size: 100% 100%;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
  font-weight: bold;
  text-shadow: none;
  animation: gradientShift 2.5s ease infinite;
}

@keyframes spectrumGradientMove {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 100% 50%;
  }
}

/* Dark background behind the text using pseudo-element */
.infoBox_petChat::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(14, 2, 69, 0.409);
  z-index: -1;
  border-radius: inherit;
}



.page-overlay.hidden {
  opacity: 0;
  pointer-events: none;
}

.overlay-content {
  background: oklch(0% 0 0 / 0.8);
  padding: 30px;
  border-radius: 15px;
  text-align: center;
  color: #e6b3ff;
  font-size: 1.2em;
  box-shadow: 0 8px 32px oklch(0% 0 0 / 0.5);
  border: solid 2px oklch(84.20% 0.160 176.83 / 0.673);
}

.overlay-content h2 {
  margin-bottom: 15px;
  font-size: 1.5em;
  color: #ff6bb3;
  text-shadow: 0 0 10px rgba(255, 107, 179, 0.5);
  animation: wordDropDown 1.5s ease-out forwards;
  opacity: 0;
}

.overlay-content p {
  margin-bottom: 20px;
  line-height: 1.5;
}

.overlay-content p:first-of-type {
  color: #80b3ff;
  text-shadow: 0 0 8px rgba(128, 179, 255, 0.4);
}

.overlay-content p:last-of-type {
  color: #b380ff;
  text-shadow: 0 0 8px rgba(179, 128, 255, 0.4);
}

/* Enhanced Start button styling for overlay */
.page-overlay .OverlayStartButton {
  background: linear-gradient(45deg, #ad0e5b, #1a4e93, #3d0c82);
  background-size: 200% 200%;
  color: hsl(216, 56%, 79%);
  font-family: 'Orbitron', sans-serif;
  font-size: 1em;
  padding: 10px 25px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  box-shadow: 0 6px 20px rgba(204, 77, 138, 0.4);
  transition: all 0.3s ease;
  font-weight: bold;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  animation: gradientShift 3s ease infinite;
  opacity: 0.8;
 
}


.page-overlay .OverlayStartButton:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(217, 9, 254, 0.6), 0 4px 15px rgba(90, 140, 204, 0.4);
  background-size: 300% 300%;
  opacity: 1;
}

/* ============================================================================
   WORD DROP ANIMATIONS & 3D HOVER EFFECTS
   ============================================================================ */
/* Individual word animations */
.word {
  display: inline-block;
  opacity: 0;
  animation: wordDropDown 1.5s ease-out forwards;
  margin-right: 0.3em;
}

/* Staggered delays for first paragraph words */
.overlay-content p:first-of-type .word:nth-child(1) { animation-delay: 1.6s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(2) { animation-delay: 1.8s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(3) { animation-delay: 2.0s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(4) { animation-delay: 2.2s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(5) { animation-delay: 2.4s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(6) { animation-delay: 2.6s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(7) { animation-delay: 2.8s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(8) { animation-delay: 3.0s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(9) { animation-delay: 3.2s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(10) { animation-delay: 3.4s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(11) { animation-delay: 3.6s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(12) { animation-delay: 3.8s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(13) { animation-delay: 4.0s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(14) { animation-delay: 4.2s; animation-name: wordDropRightToLeft; }
.overlay-content p:first-of-type .word:nth-child(15) { animation-delay: 4.4s; animation-name: wordDropRightToLeft; }

/* Staggered delays for second paragraph words */
.overlay-content p:nth-of-type(2) .word:nth-child(1) { animation-delay: 5.0s; animation-name: mysteriousFade; position: relative; transform-style: preserve-3d; z-index: -10; transition: z-index 0.1s ease; }
.overlay-content p:nth-of-type(2) .word:nth-child(2) { animation-delay: 5.3s; animation-name: mysteriousFade; position: relative; transform-style: preserve-3d; z-index: -10; transition: z-index 0.1s ease; }
.overlay-content p:nth-of-type(2) .word:nth-child(3) { animation-delay: 5.7s; animation-name: mysteriousFade; position: relative; transform-style: preserve-3d; z-index: -10; transition: z-index 0.1s ease; }
.overlay-content p:nth-of-type(2) .word:nth-child(4) { animation-delay: 5.9s; animation-name: mysteriousFade; position: relative; transform-style: preserve-3d; z-index: -10; transition: z-index 0.1s ease; }
.overlay-content p:nth-of-type(2) .word:nth-child(5) { animation-delay: 6.2s; animation-name: mysteriousFade; position: relative; transform-style: preserve-3d; z-index: -10; transition: z-index 0.1s ease; }
.overlay-content p:nth-of-type(2) .word:nth-child(6) { animation-delay: 6.5s; animation-name: mysteriousFade; position: relative; transform-style: preserve-3d; z-index: -10; transition: z-index 0.1s ease; }

/* Third paragraph (transcend) - special animation */
.overlay-content p:last-of-type .word:nth-child(1) { animation-delay: 7.5s; animation-name: mysteriousDrop; position: relative; transform-style: preserve-3d; z-index: -10; transition: z-index 0.1s ease; }

/* 3D hover effects for overlay text */
.overlay-content h2,
.overlay-content p {
  transition: transform 0.3s ease, font-size 0.3s ease;
  transform-style: preserve-3d;
  cursor: pointer;
}

.overlay-content h2:hover {
  transform: scale(1.15) rotateX(5deg) rotateY(5deg) translateZ(10px);
  text-shadow: 0 0 15px rgba(255, 107, 179, 0.7);
}

.overlay-content p:hover {
  transform: scale(1.1) rotateX(3deg) rotateY(3deg) translateZ(8px);
}

.overlay-content p:first-of-type:hover {
  text-shadow: 0 0 12px rgba(128, 179, 255, 0.6);
}

.overlay-content p:nth-of-type(2):hover {
  text-shadow: 0 0 12px rgba(255, 179, 128, 0.6);
}

.overlay-content p:last-of-type:hover {
  text-shadow: 0 0 12px rgba(179, 128, 255, 0.6);
}

/* ============================================================================
   CYBERPUNK GLITCH EFFECTS
   ============================================================================ */
.glitching-effect {
  width: 100%;
  height: 100%;
  position: relative;
  background: linear-gradient(45deg, #000, #1a1a1a, #333);
  border-radius: 10px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: glitchContainer 2s infinite;
}

.glitch-text {
  font-family: "Doto", monospace;
  font-size: 0.9em;
  padding: 0.7em;
  word-break: break-word;
  text-shadow: 
    0 0 10px #00ff00,
    0 0 20px #00ff00,
    0 0 30px #00ff00;
  animation: glitchText 1.5s infinite;
  z-index: 3;
}

.glitch-bars {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 255, 255, 0.1) 2px,
    rgba(0, 255, 255, 0.1) 4px
  );
  animation: glitchBars 0.5s infinite;
  z-index: 2;
}

.glitch-static {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><filter id="noise"><feTurbulence baseFrequency="0.9" numOctaves="4" result="noise"/><feDisplacementMap in="SourceGraphic" in2="noise" scale="2"/></filter></defs><rect width="100%" height="100%" fill="rgba(255,255,255,0.1)" filter="url(%23noise)"/></svg>');
  animation: glitchStatic 0.1s infinite;
  z-index: 1;
}

/* ============================================================================
   COLORFUL GLITCH ANIMATION CONTAINER
   ============================================================================ */
.colorful-glitch-container {
  width: 150px;
  height: 200px;
  position: relative;
  background: linear-gradient(45deg, #ff0080, #00ff80, #8000ff, #ff8000, #0080ff);
  background-size: 400% 400%;
  border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: colorfulGlitchContainer 1.5s infinite, rainbowShift 3s infinite;
  box-shadow: 
    0 0 20px rgba(255, 0, 128, 0.5),
    0 0 40px rgba(0, 255, 128, 0.3),
    0 0 60px rgba(128, 0, 255, 0.2),
    /* 3D depth shadows for mass effect */
    inset -8px -8px 16px rgba(0, 0, 0, 0.4),
    inset 8px 8px 16px rgba(255, 255, 255, 0.1),
    inset -4px -4px 8px rgba(0, 0, 0, 0.3),
    inset 4px 4px 8px rgba(255, 255, 255, 0.05),
    /* Enhanced edge shading for 3D realism */
    inset -15px 0px 20px rgba(0, 0, 0, 0.3),
    inset 15px 0px 20px rgba(255, 255, 255, 0.08),
    inset 0px -20px 25px rgba(0, 0, 0, 0.35),
    inset 0px 12px 18px rgba(255, 255, 255, 0.12),
    /* Curved edge highlights */
    inset -25px -25px 30px rgba(0, 0, 0, 0.25),
    inset 25px 25px 30px rgba(255, 255, 255, 0.06),
    /* Subtle rim lighting */
    inset -2px -2px 4px rgba(255, 0, 128, 0.2),
    inset 2px 2px 4px rgba(0, 255, 128, 0.15);
  transition: opacity 1.5s ease-out, transform 1.5s ease-out;
}

/* Hatching animation state */
.colorful-glitch-container.hatching {
  animation: eggHatching 1.5s ease-out forwards;
}

/* Sonic birth animation */
.sonic-container img.hatching {
  animation: sonicBirth 2s ease-out forwards, sonicFastFrames 0.05s infinite;
  filter: 
    drop-shadow(0 0 10px rgba(255, 0, 128, 0.8)) 
    drop-shadow(0 0 20px rgba(0, 255, 128, 0.6)) 
    drop-shadow(0 0 30px rgba(128, 0, 255, 0.4));
  image-rendering: pixelated;
}



/* Sonic normal state after hatching */
.sonic-container img.born {
  animation: none;
  border: none;
  filter: brightness(0.9) contrast(1.5);
  transform: translateY(30px);
}

.colorful-glitch-text {
  display: flex;
  text-align: center;
  font-family: "Doto", monospace;
  font-size: 1.2em;
  opacity: 0.8;
  font-weight: bold;
  color: #ffffff;
  text-shadow: 
    2px 2px 0px #ff0080,
    -2px -2px 0px #00ff80,
    2px -2px 0px #8000ff,
    -2px 2px 0px #ff8000;
  animation: colorfulGlitchText 1.2s infinite;
  z-index: 5;
  letter-spacing: 3px;
}

.colorful-glitch-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    90deg,
    transparent,
    transparent 3px,
    rgba(255, 0, 128, 0.2) 3px,
    rgba(255, 0, 128, 0.2) 6px,
    transparent 6px,
    transparent 9px,
    rgba(0, 255, 128, 0.2) 9px,
    rgba(0, 255, 128, 0.2) 12px
  );
  animation: colorfulGlitchOverlay 0.8s infinite;
  z-index: 4;
}

.colorful-glitch-particles {
  position: absolute;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at 20% 50%, rgba(255, 0, 128, 0.3) 0%, transparent 50%),
              radial-gradient(circle at 80% 50%, rgba(0, 255, 128, 0.3) 0%, transparent 50%),
              radial-gradient(circle at 50% 20%, rgba(128, 0, 255, 0.3) 0%, transparent 50%),
              radial-gradient(circle at 50% 80%, rgba(255, 128, 0, 0.3) 0%, transparent 50%);
  animation: colorfulGlitchParticles 2s infinite;
  z-index: 3;
}

.colorful-glitch-border {
  position: absolute;
  top: -3px;
  left: -3px;
  right: -3px;
  bottom: -3px;
  border: 3px solid;
  border-color: #ff0080 #00ff80 #8000ff #ff8000;
  border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
  animation: colorfulGlitchBorder 1s infinite;
  z-index: 2;
}

/* ============================================================================
   KEYFRAME ANIMATIONS
   ============================================================================ */
@keyframes pageLoadFadeIn {
  0% { opacity: 0; }
  100% { opacity: 1; }
}
/* sine wave effect ===============================*/
@keyframes sineWaveFlow {
  0% { 
    transform: translateX(0%);
  }
  100% { 
    transform: translateX(33.33%);
  }
}

@keyframes floatUpDown {
  0%, 100% { 
    transform: translateY(0px);
  }
  50% { 
    transform: translateY(-8px);
  }
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes wordDropDown {
  0% {
    transform: translateY(-100vh);
    opacity: 0;
  }
  60% {
    transform: translateY(5px);
    opacity: 1;
  }
  80% {
    transform: translateY(-2px);
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes wordDropRightToLeft {
  0% {
    transform: translateX(100vw) translateY(-100vh);
    opacity: 0;
  }
  60% {
    transform: translateX(5px) translateY(5px);
    opacity: 1;
  }
  80% {
    transform: translateX(-2px) translateY(-2px);
  }
  100% {
    transform: translateX(0) translateY(0);
    opacity: 1;
  }
}

@keyframes glitchContainer {
  0%, 90% { transform: translate(0); }
  91% { transform: translate(-2px, 1px); }
  92% { transform: translate(2px, -1px); }
  93% { transform: translate(-1px, 2px); }
  94% { transform: translate(1px, -2px); }
  95% { transform: translate(-2px, -1px); }
  96% { transform: translate(2px, 1px); }
  97% { transform: translate(-1px, -2px); }
  98% { transform: translate(1px, 2px); }
  99% { transform: translate(0); }
}

@keyframes glitchText {
  0%, 80% { 
    color: #00ff00;
    text-shadow: 
      0 0 10px #00ff00,
      0 0 20px #00ff00,
      0 0 30px #00ff00;
  }
  81% { 
    color: #ff0000;
    text-shadow: 
      0 0 10px #ff0000,
      0 0 20px #ff0000,
      0 0 30px #ff0000;
  }
  82% { 
    color: #0000ff;
    text-shadow: 
      0 0 10px #0000ff,
      0 0 20px #0000ff,
      0 0 30px #0000ff;
  }
  83% { 
    color: #ffff00;
    text-shadow: 
      0 0 10px #ffff00,
      0 0 20px #ffff00,
      0 0 30px #ffff00;
  }
  84%, 100% { 
    color: #00ff00;
    text-shadow: 
      0 0 10px #00ff00,
      0 0 20px #00ff00,
      0 0 30px #00ff00;
  }
}

@keyframes glitchBars {
  0% { transform: translateY(0); }
  20% { transform: translateY(-2px); }
  40% { transform: translateY(2px); }
  60% { transform: translateY(-1px); }
  80% { transform: translateY(1px); }
  100% { transform: translateY(0); }
}

@keyframes glitchStatic {
  0% { opacity: 0.1; }
  50% { opacity: 0.3; }
  100% { opacity: 0.1; }
}

/* ============================================================================
   COLORFUL GLITCH KEYFRAME ANIMATIONS
   ============================================================================ */
@keyframes colorfulGlitchContainer {
  0%, 90% { transform: translate(0) scale(1); }
  91% { transform: translate(-3px, 2px) scale(1.02); }
  92% { transform: translate(3px, -2px) scale(0.98); }
  93% { transform: translate(-2px, 3px) scale(1.01); }
  94% { transform: translate(2px, -3px) scale(0.99); }
  95% { transform: translate(-3px, -2px) scale(1.03); }
  96% { transform: translate(3px, 2px) scale(0.97); }
  97% { transform: translate(-2px, -3px) scale(1.02); }
  98% { transform: translate(2px, 3px) scale(0.98); }
  99% { transform: translate(0) scale(1); }
}

@keyframes rainbowShift {
  0% { background-position: 0% 50%; }
  25% { background-position: 100% 50%; }
  50% { background-position: 100% 100%; }
  75% { background-position: 0% 100%; }
  100% { background-position: 0% 50%; }
}

@keyframes colorfulGlitchText {
  0%, 80% { 
    color: #ffffff;
    text-shadow: 
      2px 2px 0px #ff0080,
      -2px -2px 0px #00ff80,
      2px -2px 0px #8000ff,
      -2px 2px 0px #ff8000;
  }
  81% { 
    color: #ff0080;
    text-shadow: 
      2px 2px 0px #ffffff,
      -2px -2px 0px #00ff80,
      2px -2px 0px #8000ff,
      -2px 2px 0px #ff8000;
  }
  82% { 
    color: #00ff80;
    text-shadow: 
      2px 2px 0px #ff0080,
      -2px -2px 0px #ffffff,
      2px -2px 0px #8000ff,
      -2px 2px 0px #ff8000;
  }
  83% { 
    color: #8000ff;
    text-shadow: 
      2px 2px 0px #ff0080,
      -2px -2px 0px #00ff80,
      2px -2px 0px #ffffff,
      -2px 2px 0px #ff8000;
  }
  84% { 
    color: #ff8000;
    text-shadow: 
      2px 2px 0px #ff0080,
      -2px -2px 0px #00ff80,
      2px -2px 0px #8000ff,
      -2px 2px 0px #ffffff;
  }
  85%, 100% { 
    color: #ffffff;
    text-shadow: 
      2px 2px 0px #ff0080,
      -2px -2px 0px #00ff80,
      2px -2px 0px #8000ff,
      -2px 2px 0px #ff8000;
  }
}

@keyframes colorfulGlitchOverlay {
  0% { transform: translateX(0) skewX(0deg); }
  20% { transform: translateX(-5px) skewX(-2deg); }
  40% { transform: translateX(5px) skewX(2deg); }
  60% { transform: translateX(-3px) skewX(-1deg); }
  80% { transform: translateX(3px) skewX(1deg); }
  100% { transform: translateX(0) skewX(0deg); }
}

@keyframes colorfulGlitchParticles {
  0% { 
    opacity: 0.3;
    transform: rotate(0deg) scale(1);
  }
  25% { 
    opacity: 0.7;
    transform: rotate(90deg) scale(1.1);
  }
  50% { 
    opacity: 0.5;
    transform: rotate(180deg) scale(0.9);
  }
  75% { 
    opacity: 0.8;
    transform: rotate(270deg) scale(1.05);
  }
  100% { 
    opacity: 0.3;
    transform: rotate(360deg) scale(1);
  }
}

@keyframes colorfulGlitchBorder {
  0% { 
    border-color: #ff0080 #00ff80 #8000ff #ff8000;
    transform: rotate(0deg);
  }
  25% { 
    border-color: #00ff80 #8000ff #ff8000 #ff0080;
    transform: rotate(1deg);
  }
  50% { 
    border-color: #8000ff #ff8000 #ff0080 #00ff80;
    transform: rotate(-1deg);
  }
  75% { 
    border-color: #ff8000 #ff0080 #00ff80 #8000ff;
    transform: rotate(1deg);
  }
  100% { 
    border-color: #ff0080 #00ff80 #8000ff #ff8000;
    transform: rotate(0deg);
  }
}

/* ============================================================================
   HATCHING ANIMATIONS
   ============================================================================ */
@keyframes eggHatching {
  0% { 
    opacity: 1; 
    transform: scale(1); 
  }
  50% { 
    opacity: 0.7; 
    transform: scale(1.1) rotate(5deg); 
  }
  100% { 
    opacity: 0; 
    transform: scale(0.8) rotate(-5deg); 
  }
}

@keyframes sonicBirth {
  0% { 
    opacity: 0;
    transform: translateY(30px) scale(0.5);
    filter: 
      drop-shadow(0 0 15px rgba(255, 0, 128, 1)) 
      drop-shadow(0 0 25px rgba(0, 255, 128, 0.8)) 
      drop-shadow(0 0 35px rgba(128, 0, 255, 0.6));
  }
  25% { 
    opacity: 0.7;
    transform: translateY(30px) scale(0.8);
    filter: 
      drop-shadow(0 0 20px rgba(0, 255, 128, 1)) 
      drop-shadow(0 0 30px rgba(128, 0, 255, 0.8)) 
      drop-shadow(0 0 40px rgba(255, 128, 0, 0.6));
  }
  50% { 
    opacity: 0.8;
    transform: translateY(30px) scale(1);
    filter: 
      drop-shadow(0 0 25px rgba(128, 0, 255, 1)) 
      drop-shadow(0 0 35px rgba(255, 128, 0, 0.8)) 
      drop-shadow(0 0 45px rgba(0, 128, 255, 0.6));
  }
  75% { 
    opacity: 0.9;
    transform: translateY(30px) scale(1.1);
    filter: 
      drop-shadow(0 0 20px rgba(255, 128, 0, 1)) 
      drop-shadow(0 0 30px rgba(0, 128, 255, 0.8)) 
      drop-shadow(0 0 40px rgba(255, 0, 128, 0.6));
  }
  100% { 
    opacity: 1;
    transform: translateY(30px) scale(1);
    filter: brightness(0.9) contrast(1.5);
  }
}

@keyframes sonicFastFrames {
  0% { 
    filter: 
      brightness(1.2) contrast(1.8) hue-rotate(0deg)
      drop-shadow(0 0 10px rgba(255, 0, 128, 0.8)) 
      drop-shadow(0 0 20px rgba(0, 255, 128, 0.6)) 
      drop-shadow(0 0 30px rgba(128, 0, 255, 0.4));
  }
  50% { 
    filter: 
      brightness(1.4) contrast(2.0) hue-rotate(180deg)
      drop-shadow(0 0 10px rgba(0, 255, 128, 0.8)) 
      drop-shadow(0 0 20px rgba(128, 0, 255, 0.6)) 
      drop-shadow(0 0 30px rgba(255, 128, 0, 0.4));
  }
  100% { 
    filter: 
      brightness(1.2) contrast(1.8) hue-rotate(360deg)
      drop-shadow(0 0 10px rgba(255, 0, 128, 0.8)) 
      drop-shadow(0 0 20px rgba(0, 255, 128, 0.6)) 
      drop-shadow(0 0 30px rgba(128, 0, 255, 0.4));
  }
}

/* ============================================================================
   SONIC ANIMATIONS & SPECIAL POSITIONING
   ============================================================================ */
/* Default sonic.gif styling */
.sonic-container img[src="resources/sonic.gif"] {
  width: 75%;
  height: auto;
  transform: translateY(30px);
  filter: brightness(0.9) contrast(1.5);
}



@keyframes mysteriousDrop {
  0% {
    transform: translateY(0) translateX(0) translateZ(-500px) rotate(0deg) scale(0.1);
    opacity: 0;
    filter: blur(15px) brightness(0.5) hue-rotate(0deg);
    z-index: -10;
    text-shadow: 
      0 0 50px rgba(179, 128, 255, 0.3),
      0 0 100px rgba(128, 0, 255, 0.2),
      0 0 150px rgba(255, 0, 128, 0.1);
  }
  15% {
    transform: translateY(0) translateX(0) translateZ(-300px) rotate(5deg) scale(0.3);
    opacity: 0.1;
    filter: blur(12px) brightness(0.8) hue-rotate(30deg);
    z-index: -8;
    text-shadow: 
      0 0 40px rgba(128, 0, 255, 0.4),
      0 0 80px rgba(255, 0, 128, 0.3),
      0 0 120px rgba(0, 255, 128, 0.2);
  }
  30% {
    transform: translateY(0) translateX(-10px) translateZ(-150px) rotate(-3deg) scale(0.5);
    opacity: 0.3;
    filter: blur(8px) brightness(1.2) hue-rotate(90deg);
    z-index: -5;
    text-shadow: 
      0 0 30px rgba(255, 0, 128, 0.6),
      0 0 60px rgba(0, 255, 128, 0.5),
      0 0 90px rgba(128, 255, 0, 0.4);
  }
  50% {
    transform: translateY(0) translateX(8px) translateZ(-50px) rotate(2deg) scale(0.7);
    opacity: 0.5;
    filter: blur(5px) brightness(1.8) hue-rotate(180deg);
    z-index: -2;
    text-shadow: 
      0 0 25px rgba(0, 255, 128, 0.8),
      0 0 50px rgba(128, 255, 0, 0.7),
      0 0 75px rgba(255, 128, 0, 0.6);
  }
  70% {
    transform: translateY(0) translateX(-5px) translateZ(0px) rotate(-1deg) scale(0.9);
    opacity: 0.7;
    filter: blur(3px) brightness(2.2) hue-rotate(240deg);
    z-index: 0;
    text-shadow: 
      0 0 20px rgba(128, 255, 0, 1),
      0 0 40px rgba(255, 128, 0, 0.9),
      0 0 60px rgba(255, 0, 255, 0.8);
  }
  85% {
    transform: translateY(0) translateX(3px) translateZ(20px) rotate(0.5deg) scale(1.05);
    opacity: 0.9;
    filter: blur(1px) brightness(2.5) hue-rotate(300deg);
    z-index: 2;
    text-shadow: 
      0 0 15px rgba(255, 128, 0, 1),
      0 0 30px rgba(255, 0, 255, 1),
      0 0 45px rgba(128, 128, 255, 0.9);
  }
  95% {
    transform: translateY(0) translateX(-1px) translateZ(10px) rotate(-0.2deg) scale(1.02);
    opacity: 0.95;
    filter: blur(0.5px) brightness(1.8) hue-rotate(340deg);
    z-index: 1;
    text-shadow: 
      0 0 12px rgba(255, 0, 255, 1),
      0 0 24px rgba(128, 128, 255, 0.9),
      0 0 36px rgba(179, 128, 255, 0.8);
  }
  100% {
    transform: translateY(0) translateX(0) translateZ(0px) rotate(0deg) scale(1);
    opacity: 1;
    filter: blur(0px) brightness(1.3) hue-rotate(360deg);
    z-index: 1;
    text-shadow: 
      0 0 8px rgba(179, 128, 255, 0.9),
      0 0 16px rgba(179, 128, 255, 0.7),
      0 0 24px rgba(179, 128, 255, 0.5);
  }
}

@keyframes mysteriousFade {
  0% {
    transform: translateY(0) translateX(0) translateZ(-300px) rotate(0deg) scale(0.2);
    opacity: 0;
    filter:  brightness(0.7) hue-rotate(0deg);
    z-index: -10;
  }
  25% {
    transform: translateY(0) translateX(0) translateZ(-150px) rotate(2deg) scale(0.5);
    opacity: 0.2;
    filter:  brightness(0.9) hue-rotate(60deg);
    z-index: -6;
  }
  50% {
    transform: translateY(0) translateX(-5px) translateZ(-50px) rotate(-1deg) scale(0.8);
    opacity: 0.5;
    filter:  brightness(1.1) hue-rotate(120deg);
    z-index: -3;
  }
  75% {
    transform: translateY(0) translateX(3px) translateZ(0px) rotate(0.5deg) scale(0.95);
    opacity: 0.8;
    filter:  brightness(1.2) hue-rotate(180deg);
    z-index: 0;
  }
  100% {
    transform: translateY(0) translateX(0) translateZ(0px) rotate(0deg) scale(1);
    opacity: 1;
    filter:  brightness(1) hue-rotate(0deg);
    z-index: 1;
  }
}

/* ────────────── Evolution Stage Filters ────────────── */


/* ============================================================================
   TRANSCENDENCE ANIMATION
   ============================================================================ */

/* Transcendence animation for final evolution */


/* ============================================================================
   GAME OVER OVERLAY
   ============================================================================ */
.game-over-overlay {
  position: fixed;
  top: 21%;
  left: 0;
  width: 100%;
  height: 72%;
  background-color: transparent;
  z-index: 10000;
  display: flex;
  padding: 20px;
  border-radius: 20px;
  justify-content: center;
  align-items: center;
  backdrop-filter: blur(10px);
  opacity: 0;
  animation: gameOverFadeIn 2s ease-out forwards;
  mask: radial-gradient(ellipse 90% 85% at 50% 50%, black 40%, transparent 90%);
  -webkit-mask: radial-gradient(ellipse 90% 85% at 50% 50%, black 100%, transparent 100%);
  box-sizing: border-box;
}

.game-over-overlay.hidden {
  display: none;
}

.game-over-content {
  background: linear-gradient(45deg, #000000, #1a1a1a, #333333, #000000);
  padding: 20px 30px;
  border-radius: 40px;
  text-align: center;
  width: 90vw;
  height: 30vh;
  display: flex;
  max-width: 900px;
  min-height: 560px;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: #0800ff;
  gap: 5px;
  font-size: 1.5em;
  box-shadow: 
    0 0 50px rgba(255, 0, 200, 0.923),
    0 0 30px rgba(212, 0, 255, 0.604),
    inset 0 0 30px rgba(0, 0, 0, 0.8);
  border: 3px solid #ff00a2;
  
  animation: gameOverPulse 2s ease-in-out infinite alternate;
}

.game-over-content h2 {
  margin-bottom: 30px;
  font-size: clamp(2rem, 8vw, 4rem);
  color: #ff0099;
  text-shadow: 
    0 0 20px rgb(255, 0, 153),
    0 0 40px rgba(115, 0, 255, 0.8),
    0 0 60px rgba(255, 0, 0, 0.6),
    2px 2px 8px rgba(89, 4, 63, 0.534);
  animation: gameOverGlitch 3s infinite;
  white-space: nowrap;
  flex-shrink: 0;
  text-align: center;
  width: 100%;
}
#gameOverReason {
  transform: translateY(-4.5vh); /* ← Move this specific element up by 4vh */
  position: relative;
  margin: 0;
  text-align: center;
}

.game-over-content p {
  margin: -20px 0 0 0;
  line-height: 1.3;
  color: #ff66e8;
  text-shadow: 
    0 0 10px rgba(255, 0, 0, 0.794),
    0 0 30px rgba(255, 0, 0, 0.5);
  flex: 1;
  text-align: center;
  
  width: 100%;
}

.game-over-reason {
  font-weight: bold;
  color: #ff0000;
  margin: 0;
  
  font-size: clamp(0.9rem, 3vw, 1.1rem);
  text-shadow: 
    0 0 15px rgba(255, 0, 0, 0.9),
    2px 2px 6px rgba(255, 0, 0, 0.6);
  white-space: nowrap;
  flex-shrink: 0;
  text-align: center;
  width: 100%;
  transform: translateY(-1vh);
  position: relative;
}

.game-over-buttons {
  display: flex;
  justify-content: center;
  flex-shrink: 0;
  transform: translateY(-2vh);
  position: relative;
}

.game-over-button {
  padding: 15px 30px;
  font-size: 0.6em;
  letter-spacing: 3px;
  font-family: "Orbitron", sans-serif;
  background: linear-gradient(45deg, #000000, #333333, #000000);
  color: #ff00d9;
  border: 2px solid #c800ff;
  border-radius: 10px;
  cursor: pointer;
  box-shadow: 
    0 0 20px rgba(251, 0, 255, 0.6),
    0 0 40px rgba(191, 0, 255, 0.4),
    inset 0 0 10px rgba(255, 0, 0, 0.1);
  transition: all 0.3s ease;
  font-weight: bold;
  text-shadow: 
    0 0 10px rgba(255, 0, 0, 0.8),
    2px 2px 4px rgba(255, 0, 0, 0.5);
}

.game-over-button:hover {
  transform: translateY(-3px);
  box-shadow: 
    0 0 30px rgba(255, 0, 0, 0.722),
    0 0 50px rgba(17, 0, 255, 0.6),
    inset 0 0 15px rgba(255, 0, 0, 0.2);
  background: linear-gradient(40deg, #1a1a1a, #392f2f, #1a1a1a);
  text-shadow: 
    
}

.game-over-button:active {
  transform: translateY(-1px);
}

@keyframes gameOverFadeIn {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes gameOverPulse {
  0% {
    box-shadow: 
      0 0 30px rgba(255, 0, 0, 0.5),
      0 0 50px rgba(255, 0, 0, 0.3),
      inset 0 0 20px rgba(0, 0, 0, 0.8);
  }
  100% {
    box-shadow: 
      0 0 60px rgba(255, 0, 0, 0.8),
      0 0 80px rgba(255, 0, 0, 0.6),
      inset 0 0 40px rgba(0, 0, 0, 0.9);
  }
}

@keyframes gameOverGlitch {
  0%, 90% {
    text-shadow: 
      0 0 20px rgba(255, 0, 0, 1),
      0 0 40px rgba(255, 0, 0, 0.8),
      0 0 60px rgba(255, 0, 0, 0.6),
      2px 2px 8px rgba(255, 0, 0, 0.5);
    transform: translateX(0);
  }
  91% {
    text-shadow: 
      0 0 20px rgba(255, 0, 0, 1),
      2px 0 0 #ff0000,
      -2px 0 0 #000000,
      4px 4px 10px rgba(255, 0, 0, 0.7);
    transform: translateX(-2px);
  }
  93% {
    text-shadow: 
      0 0 20px rgba(255, 0, 0, 1),
      -2px 0 0 #ff0000,
      2px 0 0 #000000,
      -4px -4px 10px rgba(255, 0, 0, 0.7);
    transform: translateX(2px);
  }
  95% {
    text-shadow: 
      0 0 20px rgba(255, 0, 0, 1),
      1px 0 0 #ff0000,
      -1px 0 0 #000000,
      2px 2px 6px rgba(255, 0, 0, 0.6);
    transform: translateX(-1px);
  }
  97% {
    text-shadow: 
      0 0 20px rgba(255, 0, 0, 1),
      0 0 40px rgba(255, 0, 0, 0.8),
      3px 3px 8px rgba(255, 0, 0, 0.5);
    transform: translateX(1px);
  }
  100% {
    text-shadow: 
      0 0 20px rgba(255, 0, 0, 1),
      0 0 40px rgba(255, 0, 0, 0.8),
      0 0 60px rgba(255, 0, 0, 0.6),
      2px 2px 8px rgba(255, 0, 0, 0.5);
    transform: translateX(0);
  }
}
/* the area that controls the white stage glitch effects is      */
/* ============ ⚡ GLITCH STUTTER OVERLAY FOR TRANSITIONS ============ */
.glitch-stutter-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 480px; /* Reduced from 600px */
  height:160px; /* Reduced from 200px */
  pointer-events: none;
  opacity: 0;
  z-index: 15;
  overflow: hidden;
  background: transparent;
  transition: opacity 0.20s ease-out, width 0.20s ease-out, height 0.20s ease-out;
  border-radius: 50%; /* Make it more oval/rounded */
  /* Dynamic cat shape using radial gradient with smoother edges */
  background: radial-gradient(ellipse 35% 45% at 50% 80%, 
    rgba(95, 226, 247, 0.632) 0%,
    rgba(226, 35, 252, 0.8) 50%,
    rgba(241, 165, 251, 0.4) 65%,
    transparent 80%
  );
  /* Cat ears - smaller and smoother */
  background-image: 
    radial-gradient(ellipse 12% 16% at 35% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.3) 60%, transparent 80%),
    radial-gradient(ellipse 12% 16% at 65% 25%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.3) 60%, transparent 80%);
  /* Smoother mask with extended fade */
  -webkit-mask: 
    radial-gradient(ellipse 35% 45% at 50% 45%, black 0%, black 50%, rgba(0,0,0,0.7) 65%, transparent 80%),
    radial-gradient(ellipse 12% 16% at 35% 25%, black 0%, rgba(0,0,0,0.5) 60%, transparent 80%),
    radial-gradient(ellipse 12% 16% at 65% 25%, black 0%, rgba(0,0,0,0.5) 60%, transparent 80%);
  mask: 
    radial-gradient(ellipse 35% 45% at 50% 45%, oklch(8.063% 0.03707 328.352) 0%, black 50%, rgba(0,0,0,0.7) 65%, transparent 80%),
    radial-gradient(ellipse 12% 16% at 35% 25%, rgb(22, 1, 28) 0%, rgba(0,0,0,0.5) 60%, transparent 80%),
    radial-gradient(ellipse 12% 16% at 65% 25%, black 0%, rgba(0,0,0,0.5) 60%, transparent 80%);
}

.glitch-stutter-overlay.active {
  opacity: 1;
  width: 5280px; /* Increased width for animation transitions (10% increase from 4800px) */
  animation: stutterFlicker 0.15s linear, dynamicCatGlitch 0.3s ease-in-out;
}

/* Enhanced evolution effect */
.glitch-stutter-overlay.active.evolution {
  opacity: 1;
  animation: 
    cyberpunkEvolutionGlow 6s ease-in-out,
    evolutionParticles 0.5s ease-in-out infinite,
    evolutionShimmer 1s ease-in-out infinite;
  background: radial-gradient(ellipse 60% 70% at 50% 45%, 
    rgba(5, 45, 155, 0.9) 0%,
    rgba(255, 0, 255, 0.8) 30%,
    rgba(255, 255, 0, 0.7) 60%,
    rgba(90, 5, 208, 0.854) 80%,
    transparent 100%
  );
  background-image: 
    radial-gradient(circle 8px at 25% 30%, rgba(255, 0, 255, 1) 0%, transparent 50%),
    radial-gradient(circle 6px at 75% 25%, rgb(5, 124, 171) 0%, transparent 50%),
    radial-gradient(circle 10px at 35% 70%, rgb(187, 187, 10) 0%, transparent 50%),
    radial-gradient(circle 7px at 65% 75%, rgb(11, 173, 92) 0%, transparent 50%),
    radial-gradient(circle 5px at 85% 50%, rgba(255, 128, 0, 1) 0%, transparent 50%),
    radial-gradient(circle 9px at 15% 60%, rgba(128, 0, 255, 1) 0%, transparent 50%);
}

/* Mystical Transcendence Overlay with Mandala-like Glow */
.glitch-stutter-overlay.active.transcendence {
  opacity: 1;
  animation: 
    mysticalTranscendenceGlow 8s ease-in-out,
    mandalaRotation 12s linear infinite,
    cosmicPulse 3s ease-in-out infinite,
    etherealShimmer 2s ease-in-out infinite;
  
  /* Mandala-like radial gradient with rich, mystical colors */
  background: 
    /* Central divine light */
    radial-gradient(circle 15% at 50% 100%, 
      rgba(255, 255, 255, 0.9) 0%,
      rgba(255, 215, 0, 0.8) 10%,
      transparent 30%
    ),
    /* Inner mandala ring - warm mystical colors */
    radial-gradient(circle 35% at 50% 100%, 
      transparent 40%,
      rgba(255, 105, 180, 0.7) 50%,
      rgba(138, 43, 226, 0.6) 60%,
      rgba(231, 3, 220, 0.5) 70%,
      transparent 80%
    ),
    /* Middle mandala ring - cool mystical colors */
    radial-gradient(circle 60% at 90% 100%, 
      transparent 65%,
      rgba(0, 191, 255, 0.5) 70%,
      rgba(147, 0, 211, 0.4) 80%,
      rgba(255, 20, 147, 0.3) 85%,
      transparent 95%
    ),
    /* Outer mandala ring - ethereal glow */
    radial-gradient(circle 85% at 50% 50%, 
      transparent 75%,
      rgba(248, 66, 66, 0.2) 80%,
      rgba(255, 215, 0, 0.15) 85%,
      rgba(130, 2, 66, 0.573) 90%,
      transparent 100%
    );
  
  /* Mystical particle patterns overlaid */
  background-image: 
    /* Central star pattern */
    radial-gradient(circle 3px at 50% 50%, rgba(255, 255, 255, 1) 0%, transparent 60%),
    /* Inner ring particles */
    radial-gradient(circle 2px at 50% 30%, rgba(255, 215, 0, 0.9) 0%, transparent 50%),
    radial-gradient(circle 2px at 70% 50%, rgba(255, 105, 180, 0.9) 0%, transparent 50%),
    radial-gradient(circle 2px at 50% 70%, rgba(138, 43, 226, 0.9) 0%, transparent 50%),
    radial-gradient(circle 2px at 30% 50%, rgba(75, 0, 130, 0.9) 0%, transparent 50%),
    radial-gradient(circle 2px at 65% 35%, rgba(0, 191, 255, 0.9) 0%, transparent 50%),
    radial-gradient(circle 2px at 35% 65%, rgba(147, 0, 211, 0.9) 0%, transparent 50%),
    /* Outer ring particles */
    radial-gradient(circle 1.5px at 85% 50%, rgba(255, 255, 255, 0.8) 0%, transparent 50%),
    radial-gradient(circle 1.5px at 50% 15%, rgba(255, 215, 0, 0.8) 0%, transparent 50%),
    radial-gradient(circle 1.5px at 15% 50%, rgba(255, 105, 180, 0.8) 0%, transparent 50%),
    radial-gradient(circle 1.5px at 50% 85%, rgba(138, 43, 226, 0.8) 0%, transparent 50%);
  
  /* Soft blurred edges with multiple box shadows */
  box-shadow: 
    0 0 50px rgba(255, 255, 255, 0.6),       /* Central white glow */
    0 0 100px rgba(255, 215, 0, 0.4),        /* Golden aura */
    0 0 150px rgba(255, 105, 180, 0.3),      /* Pink mystical glow */
    0 0 200px rgba(138, 43, 226, 0.25),      /* Purple cosmic glow */
    0 0 250px rgba(75, 0, 130, 0.2),         /* Deep indigo glow */
    0 0 300px rgba(0, 191, 255, 0.15),       /* Sky blue ethereal glow */
    inset 0 0 100px rgba(255, 255, 255, 0.1); /* Subtle inner glow */
  
  /* Enhanced blur for mystical effect */
  filter: blur(0.5px) brightness(120%) saturate(150%);
}

.stutter-scanlines {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 1px,
    rgba(255, 0, 255, 0.6) 1px,
    rgba(255, 0, 255, 0.6) 3px,
    transparent 3px,
    transparent 5px,
    rgba(0, 255, 255, 0.5) 5px,
    rgba(0, 255, 255, 0.5) 7px,
    transparent 7px,
    transparent 9px,
    rgba(0, 255, 8, 0.4) 9px,
    rgba(255, 191, 0, 0.4) 11px
  );
  animation: stutterScan 0.08s linear infinite;
  mix-blend-mode: screen;
}

.stutter-static {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><defs><filter id="noise"><feTurbulence baseFrequency="0.9" numOctaves="4" stitchTiles="stitch"/></filter></defs><rect width="100%" height="100%" filter="url(%23noise)" opacity="0.6"/></svg>');
  animation: stutterStatic 0.07s linear infinite;
  mix-blend-mode: overlay;
}

.stutter-flash {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    45deg,
    rgba(187, 89, 253, 0.931) 0%,
    rgba(255, 0, 255, 0.7) 25%,
    rgba(0, 255, 255, 0.731) 50%,
    rgba(255, 255, 0, 0.5) 75%,
    rgba(123, 203, 196, 0.4) 100%
  );
  animation: stutterFlash 0.1s ease-out;
  mix-blend-mode: color-dodge;
}

/* ============ ⚡ INVERTED GLITCH STUTTER OVERLAY (LAYER 2) ============ */
.glitch-stutter-overlay.glitch-inverted {
  z-index: 16; /* Above the first layer */
  transform: translate(-50%, -50%) scale(0.75); /* Slightly reduced for smoother edges */
  border-radius: 50%; /* Make it more oval/rounded */
  /* Smoother inverted background with extended fade */
  background: radial-gradient(ellipse 35% 45% at 50% 45%, 
    rgba(141, 3, 248, 0.902) 0%,
    rgba(0, 0, 0, 0.8) 50%,
    rgba(0, 0, 0, 0.4) 65%,
    transparent 80%
  );
  /* Inverted cat ears - smaller and smoother */
  background-image: 
    radial-gradient(ellipse 12% 16% at 35% 25%, rgba(38, 2, 23, 0.9) 0%, rgba(38, 2, 23, 0.3) 60%, transparent 80%),
    radial-gradient(ellipse 12% 16% at 70% 25%, rgba(10, 2, 42, 0.9) 0%, rgba(10, 2, 42, 0.3) 60%, transparent 80%); 
  filter: invert(1) hue-rotate(180deg);
}

.glitch-stutter-overlay.glitch-inverted.active {
  opacity: 1;
  animation: stutterFlickerInverted 0.18s linear, dynamicCatGlitchInverted 0.12s ease-in-out;
}

.glitch-stutter-overlay.glitch-inverted.active.evolution {
  opacity: 1;
  animation: 
    cyberpunkEvolutionGlowInverted 6s ease-in-out,
    evolutionParticlesInverted 0.6s ease-in-out infinite,
    evolutionShimmerInverted 1.2s ease-in-out infinite;
  background: radial-gradient(ellipse 60% 70% at 50% 45%, 
    #0095ffe6 0%,
    rgba(0, 255, 0, 0.8) 30%,
    rgba(0, 0, 255, 0.7) 60%,
    rgba(255, 0, 174, 0.733) 80%,
    transparent 100%
  );
  background-image: 
    radial-gradient(circle 6px at 30% 35%, rgba(1, 176, 182, 0.932) 0%, transparent 50%),
    radial-gradient(circle 8px at 70% 30%, rgba(255, 0, 0, 1) 0%, transparent 50%),
    radial-gradient(circle 7px at 40% 65%, rgb(102, 0, 255) 0%, transparent 50%),
    radial-gradient(circle 9px at 60% 70%, rgba(255, 0, 127, 1) 0%, transparent 50%),
    radial-gradient(circle 7px at 80% 45%, rgba(0, 127, 255, 1) 0%, transparent 50%),
    radial-gradient(circle 6px at 20% 55%, rgb(0, 255, 149) 0%, transparent 50%);
}

/* Inverted scanlines */
.glitch-stutter-overlay.glitch-inverted .stutter-scanlines {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 1px,
    rgba(0, 255, 0, 0.6) 1px,
    rgba(0, 255, 0, 0.6) 3px,
    transparent 3px,
    transparent 5px,
    rgba(255, 204, 0, 0.575) 5px,
    rgba(255, 0, 0, 0.5) 7px,
    transparent 7px,
    transparent 9px,
    rgba(0, 0, 255, 0.4) 9px,
    rgba(106, 0, 255, 0.4) 11px
  );
  animation: stutterScanInverted 0.1s linear infinite;
  mix-blend-mode: multiply;
}

/* Inverted static */
.glitch-stutter-overlay.glitch-inverted .stutter-static {
  filter: invert(1);
  animation: stutterStaticInverted 0.06s linear infinite;
  mix-blend-mode: difference;
}

/* Inverted flash */
.glitch-stutter-overlay.glitch-inverted .stutter-flash {
  background: linear-gradient(
    -45deg,
    rgba(107, 9, 50, 0.9) 0%,
    rgba(0, 255, 0, 0.7) 25%,
    rgba(255, 0, 0, 0.6) 50%,
    rgba(0, 0, 255, 0.5) 75%,
    rgba(5, 27, 82, 0.4) 100%
  );
  animation: stutterFlashInverted 0.12s ease-out;
  mix-blend-mode: exclusion;
}

/* Inverted animations */
@keyframes stutterFlickerInverted {
  0% { opacity: 1; }
  15% { opacity: 0; }
  25% { opacity: 1; }
  35% { opacity: 0; }
  70% { opacity: 1; }
  55% { opacity: 0; }
  65% { opacity: 1; }
  75% { opacity: 0; }
  85% { opacity: 1; }
  100% { opacity: 0; }
}

@keyframes stutterScanInverted {
  0% { transform: translateY(100%); }
  100% { transform: translateY(-100%); }
}

@keyframes stutterStaticInverted {
  0% { transform: translate(0, 0) scale(1.1); }
  25% { transform: translate(-2px, 2px) scale(0.95); }
  50% { transform: translate(2px, -1px) scale(1.09); }
  75% { transform: translate(-1px, -2px) scale(0.9); }
  100% { transform: translate(1px, 1px) scale(1); }
}

@keyframes stutterFlashInverted {
  0% { opacity: 0; transform: scale(1.2); }
  50% { opacity: 1; transform: scale(0.8); }
  100% { opacity: 0; transform: scale(1); }
}

@keyframes dynamicCatGlitchInverted {
  0% { filter: invert(1) hue-rotate(180deg) contrast(150%) brightness(80%); }
  25% { filter: invert(1) hue-rotate(200deg) contrast(120%) brightness(120%); }
  50% { filter: invert(1) hue-rotate(160deg) contrast(180%) brightness(60%); }
  75% { filter: invert(1) hue-rotate(220deg) contrast(110%) brightness(140%); }
  100% { filter: invert(1) hue-rotate(180deg) contrast(100%) brightness(100%); }
}

@keyframes cyberpunkEvolutionGlowInverted {
  0% { filter: invert(1) hue-rotate(180deg) brightness(100%) saturate(100%); }
  20% { filter: invert(1) hue-rotate(200deg) brightness(150%) saturate(200%); }
  40% { filter: invert(1) hue-rotate(160deg) brightness(80%) saturate(300%); }
  60% { filter: invert(1) hue-rotate(220deg) brightness(200%) saturate(150%); }
  80% { filter: invert(1) hue-rotate(140deg) brightness(60%) saturate(250%); }
  100% { filter: invert(1) hue-rotate(180deg) brightness(100%) saturate(100%); }
}

@keyframes evolutionParticlesInverted {
  0% { transform: translate(-50%, -50%) scale(0.85) rotate(0deg); }
  50% { transform: translate(-50%, -50%) scale(0.9) rotate(180deg); }
  100% { transform: translate(-50%, -50%) scale(0.85) rotate(360deg); }
}

@keyframes evolutionShimmerInverted {
  0% { opacity: 0.8; }
  50% { opacity: 1; }
  100% { opacity: 0.8; }
}

@keyframes stutterFlicker {
  0% { opacity: 0; }
  10% { opacity: 1; }
  20% { opacity: 0; }
  30% { opacity: 1; }
  40% { opacity: 0; }
  50% { opacity: 1; }
  60% { opacity: 0; }
  70% { opacity: 1; }
  80% { opacity: 0; }
  90% { opacity: 1; }
  100% { opacity: 0; }
}

@keyframes stutterScan {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100%); }
}

@keyframes stutterStatic {
  0% { transform: translate(0, 0) scale(1); }
  20% { transform: translate(-2px, 1px) scale(1.01); }
  40% { transform: translate(1px, -1px) scale(0.99); }
  60% { transform: translate(-1px, 0px) scale(1.02); }
  80% { transform: translate(2px, -2px) scale(0.98); }
  100% { transform: translate(0, 0) scale(1); }
}

@keyframes stutterFlash {
  0% { 
    opacity: 0; 
    transform: scale(1) skew(0deg, 0deg);
  }
  25% { 
    opacity: 0.8; 
    transform: scale(1.05) skew(2deg, 1deg);
  }
  50% { 
    opacity: 0.6; 
    transform: scale(0.95) skew(-1deg, 2deg);
  }
  75% { 
    opacity: 0.4; 
    transform: scale(1.02) skew(1deg, -1deg);
  }
  100% { 
    opacity: 0; 
    transform: scale(1) skew(0deg, 0deg);
  }
}

@keyframes dynamicCatGlitch {
  0% { 
    transform: translate(-50%, -50%) scale(1) skew(0deg, 0deg);
    filter: hue-rotate(0deg);
  }
  25% { 
    transform: translate(-52%, -48%) scale(1.02) skew(1deg, 0.5deg);
    filter: hue-rotate(90deg);
  }
  50% { 
    transform: translate(-48%, -52%) scale(0.98) skew(-0.5deg, 1deg);
    filter: hue-rotate(180deg);
  }
  75% { 
    transform: translate(-51%, -49%) scale(1.01) skew(0.5deg, -0.5deg);
    filter: hue-rotate(270deg);
  }
  100% { 
    transform: translate(-50%, -50%) scale(1) skew(0deg, 0deg);
    filter: hue-rotate(360deg);
  }
}

/* ============ ⚡ CYBERPUNK EVOLUTION EFFECT KEYFRAMES ============ */
@keyframes cyberpunkEvolutionGlow {
  0% { 
    transform: translate(-50%, -50%) scale(1);
    filter: brightness(100%) contrast(100%) saturate(100%);
  }
  10% { 
    transform: translate(-50%, -50%) scale(1.1);
    filter: brightness(200%) contrast(150%) saturate(200%) hue-rotate(60deg);
  }
  20% { 
    transform: translate(-50%, -50%) scale(0.9);
    filter: brightness(300%) contrast(200%) saturate(300%) hue-rotate(120deg);
  }
  30% { 
    transform: translate(-50%, -50%) scale(1.2);
    filter: brightness(400%) contrast(250%) saturate(400%) hue-rotate(180deg);
  }
  50% { 
    transform: translate(-50%, -50%) scale(1.05);
    filter: brightness(500%) contrast(300%) saturate(500%) hue-rotate(240deg);
  }
  70% { 
    transform: translate(-50%, -50%) scale(1.15);
    filter: brightness(600%) contrast(350%) saturate(600%) hue-rotate(300deg);
  }
  90% { 
    transform: translate(-50%, -50%) scale(1.3);
    filter: brightness(700%) contrast(400%) saturate(700%) hue-rotate(360deg);
  }
  100% { 
    transform: translate(-50%, -50%) scale(1);
    filter: brightness(100%) contrast(100%) saturate(100%);
  }
}

@keyframes evolutionParticles {
  0% { 
    background-position: 0% 0%, 10% 10%, 20% 20%, 30% 30%, 40% 40%, 50% 50%;
    opacity: 0.8;
  }
  25% { 
    background-position: 5% -5%, 15% 5%, 25% 15%, 35% 25%, 45% 35%, 55% 45%;
    opacity: 1;
  }
  50% { 
    background-position: -5% 5%, 5% 15%, 15% 25%, 25% 35%, 35% 45%, 45% 55%;
    opacity: 0.9;
  }
  75% { 
    background-position: 2% -2%, 12% 8%, 22% 18%, 32% 28%, 42% 38%, 52% 48%;
    opacity: 1;
  }
  100% { 
    background-position: 0% 0%, 10% 10%, 20% 20%, 30% 30%, 40% 40%, 50% 50%;
    opacity: 0.8;
  }
}

@keyframes evolutionShimmer {
  0% { 
    box-shadow: 
      0 0 20px rgba(0, 255, 255, 0.5),
      0 0 40px rgba(255, 0, 255, 0.4),
      0 0 60px rgba(255, 255, 0, 0.3);
  }
  33% { 
    box-shadow: 
      0 0 30px rgba(255, 0, 255, 0.6),
      0 0 50px rgba(255, 255, 0, 0.5),
      0 0 70px rgba(0, 255, 128, 0.4);
  }
  66% { 
    box-shadow: 
      0 0 25px rgba(255, 255, 0, 0.7),
      0 0 45px rgba(0, 255, 128, 0.6),
      0 0 65px rgba(0, 255, 255, 0.5);
  }
  100% { 
    box-shadow: 
      0 0 20px rgba(0, 255, 255, 0.5),
      0 0 40px rgba(255, 0, 255, 0.4),
      0 0 60px rgba(255, 255, 0, 0.3);
  }
}

/* ============================================================================
   WHITE STAGE TRANSCENDENCE FADE EFFECT
   ============================================================================ */

/* Fade away effect for white stage transcendence */
.white-transcendence-fade {
  animation: transcendenceFadeAway 3s ease-out forwards;
}

@keyframes transcendenceFadeAway {
  0% { 
    opacity: 1; 
    transform: scale(1);
    filter: brightness(100%);
  }
  30% { 
    opacity: 0.8; 
    transform: scale(1.05);
    filter: brightness(150%) saturate(200%);
  }
  60% { 
    opacity: 0.4; 
    transform: scale(1.1);
    filter: brightness(200%) saturate(300%) blur(2px);
  }
  100% { 
    opacity: 0; 
    transform: scale(1.2);
    filter: brightness(300%) saturate(400%) blur(5px);
  }
}

/* ============ ✨ MYSTICAL TRANSCENDENCE KEYFRAMES ============ */

@keyframes mysticalTranscendenceGlow {
  0% { 
    transform: translate(-50%, -50%) scale(1);
    filter: blur(0.5px) brightness(120%) saturate(150%);
    box-shadow: 
      0 0 30px rgba(255, 255, 255, 0.4),
      0 0 60px rgba(255, 215, 0, 0.3),
      0 0 90px rgba(255, 105, 180, 0.2),
      0 0 120px rgba(138, 43, 226, 0.15);
  }
  25% { 
    transform: translate(-50%, -50%) scale(1.1);
    filter: blur(0.8px) brightness(140%) saturate(180%);
    box-shadow: 
      0 0 40px rgba(255, 255, 255, 0.5),
      0 0 80px rgba(255, 215, 0, 0.35),
      0 0 120px rgba(255, 105, 180, 0.25),
      0 0 160px rgba(138, 43, 226, 0.2);
  }
  50% { 
    transform: translate(-50%, -50%) scale(1.2);
    filter: blur(1px) brightness(160%) saturate(200%);
    box-shadow: 
      0 0 50px rgba(255, 255, 255, 0.6),
      0 0 100px rgba(255, 215, 0, 0.4),
      0 0 150px rgba(255, 105, 180, 0.3),
      0 0 200px rgba(138, 43, 226, 0.25),
      0 0 250px rgba(75, 0, 130, 0.2);
  }
  75% { 
    transform: translate(-50%, -50%) scale(1.15);
    filter: blur(1.2px) brightness(180%) saturate(220%);
    box-shadow: 
      0 0 60px rgba(255, 255, 255, 0.7),
      0 0 120px rgba(255, 215, 0, 0.45),
      0 0 180px rgba(255, 105, 180, 0.35),
      0 0 240px rgba(138, 43, 226, 0.3),
      0 0 300px rgba(75, 0, 130, 0.25);
  }
  100% { 
    transform: translate(-50%, -50%) scale(1);
    filter: blur(0.5px) brightness(120%) saturate(150%);
    box-shadow: 
      0 0 50px rgba(255, 255, 255, 0.6),
      0 0 100px rgba(255, 215, 0, 0.4),
      0 0 150px rgba(255, 105, 180, 0.3),
      0 0 200px rgba(138, 43, 226, 0.25);
  }
}

@keyframes mandalaRotation {
  0% { 
    background-position: 50% 50%, 50% 30%, 70% 50%, 50% 70%, 30% 50%, 65% 35%, 35% 65%, 85% 50%, 50% 15%, 15% 50%, 50% 85%;
  }
  25% { 
    background-position: 50% 50%, 70% 35%, 65% 70%, 30% 65%, 35% 30%, 80% 20%, 20% 80%, 90% 65%, 35% 10%, 10% 35%, 65% 90%;
  }
  50% { 
    background-position: 50% 50%, 70% 50%, 50% 70%, 30% 50%, 50% 30%, 65% 65%, 35% 35%, 85% 80%, 20% 15%, 15% 20%, 80% 85%;
  }
  75% { 
    background-position: 50% 50%, 50% 65%, 35% 50%, 50% 35%, 65% 50%, 35% 80%, 65% 20%, 80% 35%, 65% 20%, 20% 65%, 35% 80%;
  }
  100% { 
    background-position: 50% 50%, 50% 30%, 70% 50%, 50% 70%, 30% 50%, 65% 35%, 35% 65%, 85% 50%, 50% 15%, 15% 50%, 50% 85%;
  }
}

@keyframes cosmicPulse {
  0% { 
    opacity: 0.8;
    background-size: 100% 100%, 100% 100%, 100% 100%, 100% 100%;
  }
  50% { 
    opacity: 1;
    background-size: 110% 110%, 105% 105%, 108% 108%, 103% 103%;
  }
  100% { 
    opacity: 0.8;
    background-size: 100% 100%, 100% 100%, 100% 100%, 100% 100%;
  }
}

@keyframes etherealShimmer {
  0% { 
    background-image: 
      radial-gradient(circle 3px at 50% 50%, rgba(255, 255, 255, 1) 0%, transparent 60%),
      radial-gradient(circle 2px at 50% 30%, rgba(255, 215, 0, 0.9) 0%, transparent 50%),
      radial-gradient(circle 2px at 70% 50%, rgba(255, 105, 180, 0.9) 0%, transparent 50%),
      radial-gradient(circle 2px at 50% 70%, rgba(138, 43, 226, 0.9) 0%, transparent 50%),
      radial-gradient(circle 2px at 30% 50%, rgba(75, 0, 130, 0.9) 0%, transparent 50%);
  }
  25% { 
    background-image: 
      radial-gradient(circle 4px at 50% 50%, rgba(255, 255, 255, 0.9) 0%, transparent 60%),
      radial-gradient(circle 2.5px at 50% 30%, rgba(255, 215, 0, 1) 0%, transparent 50%),
      radial-gradient(circle 2.5px at 70% 50%, rgba(255, 105, 180, 1) 0%, transparent 50%),
      radial-gradient(circle 2.5px at 50% 70%, rgba(138, 43, 226, 1) 0%, transparent 50%),
      radial-gradient(circle 2.5px at 30% 50%, rgba(75, 0, 130, 1) 0%, transparent 50%);
  }
  50% { 
    background-image: 
      radial-gradient(circle 5px at 50% 50%, rgba(255, 255, 255, 0.8) 0%, transparent 60%),
      radial-gradient(circle 3px at 50% 30%, rgba(255, 215, 0, 0.8) 0%, transparent 50%),
      radial-gradient(circle 3px at 70% 50%, rgba(255, 105, 180, 0.8) 0%, transparent 50%),
      radial-gradient(circle 3px at 50% 70%, rgba(138, 43, 226, 0.8) 0%, transparent 50%),
      radial-gradient(circle 3px at 30% 50%, rgba(75, 0, 130, 0.8) 0%, transparent 50%);
  }
  75% { 
    background-image: 
      radial-gradient(circle 4px at 50% 50%, rgba(255, 255, 255, 0.9) 0%, transparent 60%),
      radial-gradient(circle 2.5px at 50% 30%, rgba(255, 215, 0, 1) 0%, transparent 50%),
      radial-gradient(circle 2.5px at 70% 50%, rgba(255, 105, 180, 1) 0%, transparent 50%),
      radial-gradient(circle 2.5px at 50% 70%, rgba(138, 43, 226, 1) 0%, transparent 50%),
      radial-gradient(circle 2.5px at 30% 50%, rgba(75, 0, 130, 1) 0%, transparent 50%);
  }
  100% { 
    background-image: 
      radial-gradient(circle 3px at 50% 50%, rgba(255, 255, 255, 1) 0%, transparent 60%),
      radial-gradient(circle 2px at 50% 30%, rgba(255, 215, 0, 0.9) 0%, transparent 50%),
      radial-gradient(circle 2px at 70% 50%, rgba(255, 105, 180, 0.9) 0%, transparent 50%),
      radial-gradient(circle 2px at 50% 70%, rgba(138, 43, 226, 0.9) 0%, transparent 50%),
      radial-gradient(circle 2px at 30% 50%, rgba(75, 0, 130, 0.9) 0%, transparent 50%);
  }
}

/* Dramatic Intergalactic Beam Effect for White Pet Transcendence */
.intergalactic-beam {
  position: fixed;
  top: 0;
  left: 50%;
  width: 100px;
  height: 100vh;
  pointer-events: none;
  transform: translateX(-50%);
  z-index: 9999;
  opacity: 0;
  background: linear-gradient(
    0deg,
    transparent 0%,
    rgba(255, 255, 255, 0.1) 20%,
    rgba(255, 105, 180, 0.3) 30%,
    rgba(138, 43, 226, 0.4) 40%,
    rgba(75, 0, 130, 0.3) 50%,
    rgba(0, 255, 255, 0.4) 60%,
    rgba(255, 215, 0, 0.3) 70%,
    rgba(255, 255, 255, 0.6) 80%,
    transparent 100%
  );
  animation: intergalacticBeamAnimation 4s ease-out forwards;
}

.intergalactic-beam::before {
  content: '';
  position: absolute;
  top: 0;
  left: 50%;
  width: 20px;
  height: 100%;
  transform: translateX(-50%);
  background: linear-gradient(
    0deg,
    transparent 0%,
    rgba(255, 255, 255, 0.8) 20%,
    rgba(255, 255, 255, 1) 50%,
    rgba(255, 255, 255, 0.8) 80%,
    transparent 100%
  );
  animation: beamCoreAnimation 4s ease-out forwards;
}

.intergalactic-beam::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 300px;
  height: 300px;
  transform: translate(-50%, -50%);
  background: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.4) 0%,
    rgba(255, 105, 180, 0.3) 20%,
    rgba(138, 43, 226, 0.2) 40%,
    rgba(0, 255, 255, 0.3) 60%,
    transparent 80%
  );
  animation: beamSpiralAnimation 4s ease-out forwards;
}

@keyframes intergalacticBeamAnimation {
  0% {
    opacity: 0;
    transform: translateX(-50%) scaleY(0);
    filter: blur(20px) brightness(0.5);
  }
  15% {
    opacity: 0.3;
    transform: translateX(-50%) scaleY(0.3);
    filter: blur(15px) brightness(0.7);
  }
  30% {
    opacity: 0.6;
    transform: translateX(-50%) scaleY(0.7);
    filter: blur(10px) brightness(1);
  }
  50% {
    opacity: 0.9;
    transform: translateX(-50%) scaleY(1);
    filter: blur(5px) brightness(1.5);
  }
  80% {
    opacity: 1;
    transform: translateX(-50%) scaleY(1.2);
    filter: blur(2px) brightness(2);
  }
  100% {
    opacity: 0;
    transform: translateX(-50%) scaleY(1.5);
    filter: blur(30px) brightness(0.2);
  }
}

@keyframes beamCoreAnimation {
  0% {
    width: 2px;
    opacity: 0;
    filter: blur(5px);
  }
  20% {
    width: 10px;
    opacity: 0.5;
    filter: blur(3px);
  }
  50% {
    width: 20px;
    opacity: 1;
    filter: blur(1px);
  }
  80% {
    width: 30px;
    opacity: 0.8;
    filter: blur(2px);
  }
  100% {
    width: 50px;
    opacity: 0;
    filter: blur(10px);
  }
}

@keyframes beamSpiralAnimation {
  0% {
    transform: translate(-50%, -50%) rotate(0deg) scale(0);
    opacity: 0;
  }
  25% {
    transform: translate(-50%, -50%) rotate(90deg) scale(0.5);
    opacity: 0.3;
  }
  50% {
    transform: translate(-50%, -50%) rotate(180deg) scale(1);
    opacity: 0.6;
  }
  75% {
    transform: translate(-50%, -50%) rotate(270deg) scale(1.2);
    opacity: 0.4;
  }
  100% {
    transform: translate(-50%, -50%) rotate(360deg) scale(1.8);
    opacity: 0;
  }
}
/* show background grid image on mobile if all else fails*/

/* show background grid image on mobile if all else fails */

/* === Mobile background + scale fixes (portrait + landscape) === */

/* 0) Avoid white flash */
html, body { height: 100%; background-color: #000; }

/* 1) Always-on grid layer behind the app (works in all orientations) */
html::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background: url("./images/grid-b.jpg") center/cover no-repeat;
}

/* 2) iOS fixed-background bug: disable 'fixed' on small screens and when sideways */
@media (max-width: 767px),
       (orientation: landscape) and (max-height: 500px) {
  body { background-attachment: scroll !important; }
}

/* 3) Make the whole app a bit smaller on phones (portrait) */
@media (max-width: 767px) {
  #main-wrapper {
    transform: scale(0.88);          /* adjust 0.85–0.92 to taste */
    transform-origin: top center;
    margin: 0 auto;
  }
}